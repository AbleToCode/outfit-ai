# 函数计算 FC 快速部署（3 分钟完成）

## 第 1 步：创建服务（30 秒）

1. 已打开控制台：https://fcnext.console.aliyun.com/cn-hangzhou/services
2. 点击 **"创建服务"** 按钮
3. 填写：
   - **服务名称**: `outfit-api`
   - **地域**: 华东 1（杭州）
4. 点击 **"确定"**

---

## 第 2 步：创建函数（1 分钟）

1. 进入 `outfit-api` 服务
2. 点击 **"创建函数"**
3. 选择 **"事件函数"**
4. 填写：
   - **运行环境**: Node.js 18
   - **函数名称**: `outfit-analyze`
   - **代码上传**: 选择 **"上传 ZIP 包"**
   - **上传文件**: 选择本地的 `fc-function.zip`
   - **执行方法**: `index.handler`
   - **内存**: 256 MB
   - **超时**: 60 秒
5. 点击 **"下一步"**

---

## 第 3 步：配置环境变量（30 秒）⚠️ 重要

1. 在"环境变量"区域，点击 **"添加环境变量"**
2. 填写：
   - **变量名**: `DASHSCOPE_API_KEY`
   - **变量值**: `sk-36f3fe3e7d60407482f9e538978916a0`
3. 点击 **"确定"**

---

## 第 4 步：创建 HTTP 触发器（1 分钟）

1. 函数创建完成后，点击 **"触发器"** 标签
2. 点击 **"创建触发器"**
3. 填写：
   - **触发器类型**: HTTP
   - **触发器名称**: `http-trigger`
   - **认证方式**: **无**（或 API 密钥）
   - **请求方法**: **POST**
4. 点击 **"确定"**

---

## 第 5 步：复制 API 地址（关键！）

1. 触发器创建完成后，在列表中看到 URL
2. 点击 **"复制"** 按钮
3. URL 格式类似：
   ```
   https://fc-xxx-xxx.cn-hangzhou.fc.aliyuncs.com/2016-08-15/proxy/outfit-api/outfit-analyze/
   ```
4. **保存此 URL**（粘贴到记事本）

---

## 第 6 步：配置前端

1. 在项目根目录创建 `.env.production` 文件
2. 粘贴内容：
   ```
   VITE_API_PROXY_URL=刚才复制的 URL
   ```
3. 保存文件

---

## 第 7 步：重新构建

```bash
npm run build
```

---

## 第 8 步：部署到 OSS

1. 访问：https://oss.console.aliyun.com/bucket
2. 点击 **"创建 Bucket"**
3. 填写：
   - **名称**: `outfit-app-你的字母`（需唯一）
   - **地域**: 华东 1（杭州）（与 FC 相同）
   - **权限**: **公共读**
4. 进入刚创建的 Bucket
5. 点击 **"文件管理"** → **"上传文件"**
6. 上传 `dist/` 目录的所有文件和文件夹
7. 上传完成后，在 Bucket 概览页找到 **"访问域名"**

---

## 完成！

访问你的 OSS 域名即可使用应用。

**遇到问题？** 查看控制台 → 函数 → 日志查询
